@tailwind base;
@tailwind components;
@tailwind utilities;

/* ══════════════════════════════════════════
   CSS VARIABLES
══════════════════════════════════════════ */
:root {
  --background:   #051a14;
  --foreground:   #f2f0e8;
  --glass:        rgba(255, 255, 255, 0.06);
  --glass-border: rgba(255, 255, 255, 0.10);
  --glass-strong: rgba(255, 255, 255, 0.12);
  --emerald-deep:  #064e3b;
  --emerald-dark:  #022c22;
  --teal-midnight: #0d3b3b;
  --gold:          #fbbf24;
}

/* ══════════════════════════════════════════
   BASE LAYER
══════════════════════════════════════════ */
@layer base {
  html {
    scroll-behavior: smooth;
  }
  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: 'Plus Jakarta Sans', sans-serif;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar       { width: 6px; }
  ::-webkit-scrollbar-track { background: var(--emerald-dark); }
  ::-webkit-scrollbar-thumb { background: var(--emerald-deep); border-radius: 3px; }
}

/* ══════════════════════════════════════════
   COMPONENTS LAYER
══════════════════════════════════════════ */
@layer components {

  /* Glass cards */
  .glass-card {
    background: var(--glass);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
  }
  .glass-card-strong {
    background: var(--glass-strong);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid var(--glass-border);
  }

  /* Glow effects */
  .glow-gold    { box-shadow: 0 0 30px rgba(251,191,36,0.3), 0 0 60px rgba(251,191,36,0.1); }
  .glow-emerald { box-shadow: 0 0 30px rgba(6,78,59,0.4),   0 0 60px rgba(6,78,59,0.2); }
  .glow-indigo  { box-shadow: 0 0 25px rgba(99,102,241,0.3); }
  .glow-amber   { box-shadow: 0 0 25px rgba(251,191,36,0.3); }
  .glow-orange  { box-shadow: 0 0 25px rgba(249,115,22,0.3); }
  .glow-red     { box-shadow: 0 0 25px rgba(239,68,68,0.3); }

  /* Foreground colour helpers */
  .text-fg    { color: var(--foreground); }
  .text-fg-70 { color: color-mix(in srgb, var(--foreground) 70%, transparent); }
  .text-fg-50 { color: color-mix(in srgb, var(--foreground) 50%, transparent); }
  .text-fg-40 { color: color-mix(in srgb, var(--foreground) 40%, transparent); }
  .text-fg-30 { color: color-mix(in srgb, var(--foreground) 30%, transparent); }

  /* Hero background */
  .hero-bg {
    background: linear-gradient(135deg,
      #022c22 0%, #064e3b 40%, #0d3b3b 70%, #022c22 100%);
  }

  /* Islamic geometric SVG overlay */
  .islamic-overlay {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60'%3E%3Cpath d='M30 0 L60 30 L30 60 L0 30 Z' fill='none' stroke='%23ffffff' stroke-width='.4' opacity='.15'/%3E%3Ccircle cx='30' cy='30' r='12' fill='none' stroke='%23ffffff' stroke-width='.4' opacity='.1'/%3E%3C/svg%3E");
    background-size: 60px 60px;
  }

  /* Shimmer bar (progress) */
  .shimmer-bar {
    background-image: linear-gradient(
      90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 3s linear infinite;
  }

  /* Hero fade-in-up */
  .fade-in-up {
    opacity: 0;
    transform: translateY(2.5rem);
    transition: opacity 1s ease, transform 1s ease;
  }
  .fade-in-up.visible  { opacity: 1; transform: translateY(0); }
  .fade-in-up.delay-500 { transition-delay: .5s; }

  /* Donation modal */
  .modal-overlay {
    opacity: 0;
    transition: opacity .3s ease;
    pointer-events: none;
  }
  .modal-overlay.open { opacity: 1; pointer-events: all; }

  .modal-box {
    transform: scale(.9);
    opacity: 0;
    transition: transform .3s ease, opacity .3s ease;
  }
  .modal-overlay.open .modal-box { transform: scale(1); opacity: 1; }

  /* Floating dock */
  .dock-hidden  { opacity: 0; transform: translateY(2.5rem); }
  .dock-visible {
    opacity: 1;
    transform: translateY(0);
    transition: opacity .7s ease, transform .7s ease;
  }

  /* Nav label expand-on-hover/active */
  .nav-label {
    max-width: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-width .3s ease, opacity .3s ease;
  }
  .nav-item:hover .nav-label,
  .nav-item.active .nav-label { max-width: 80px; opacity: 1; }

  /* Progress bar */
  #progress-fill {
    width: 0%;
    transition: width 1.5s ease-out;
  }
}

/* ══════════════════════════════════════════
   UTILITIES LAYER  (keyframes)
══════════════════════════════════════════ */
@layer utilities {

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50%       { transform: translateY(-10px); }
  }

  @keyframes shimmer {
    0%   { background-position: -200% 0; }
    100% { background-position:  200% 0; }
  }

  @keyframes glow-pulse {
    0%, 100% { opacity: .6; }
    50%       { opacity: 1; }
  }

  .animate-float      { animation: float      6s ease-in-out infinite; }
  .animate-shimmer    { animation: shimmer    3s linear     infinite; background-size: 200% 100%; }
  .animate-glow-pulse { animation: glow-pulse 2s ease-in-out infinite; }
}
